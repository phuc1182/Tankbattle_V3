<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Tank Battle Online</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="images/tank1.png" type="image/png">
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
    
    <!-- Shared Constants and Utils -->
    <script src="shared/SharedConstants.js"></script>
    <script src="shared/SharedUtils.js"></script>
</head>
<body>

    <canvas id="canvas" width="1200" height="600"></canvas>
    
    <!-- Mini-map Canvas (g√≥c ph·∫£i tr√™n) -->
    <canvas id="minimap" width="200" height="200"></canvas>

    <!-- Loading Overlay -->
    <div id="loading-layer">
        <div class="loading-box">
            <h2>ƒêANG T·∫¢I T√ÄI NGUY√äN...</h2>
            <div class="progress">
                <div class="progress-bar" id="loading-progress" style="width: 0%"></div>
            </div>
            <div id="loading-text">ƒêang t·∫£i h√¨nh ·∫£nh (0%)</div>
        </div>
    </div>

    <!-- Lobby Menu -->
    <div id="lobby-layer" style="display: none;">
        <div class="lobby-box">
            <h1>TANK BATTLE ONLINE</h1>
            <div class="lobby-content">
                <button id="createRoomBtn" class="primary-btn">T·∫†O PH√íNG M·ªöI</button>
                <div class="divider">HO·∫∂C</div>
                <label for="roomIdInput" style="margin-bottom: 8px;">Nh·∫≠p Room ID:</label>
                <input type="text" id="roomIdInput" placeholder="Nh·∫≠p m√£ ph√≤ng..." maxlength="10">
                <button id="joinRoomBtn" class="secondary-btn">THAM GIA PH√íNG</button>
                <button id="settingsBtn">C√ÄI ƒê·∫∂T</button>
            </div>
        </div>
    </div>

    <!-- Waiting Room (ch·ªù ng∆∞·ªùi ch∆°i th·ª© 2) -->
    <div id="waiting-layer" style="display: none;">
        <div class="waiting-box">
            <h1>PH√íNG CH∆†I</h1>
            <div class="waiting-content">
                <p class="instruction-text">G·ª≠i m√£ ph√≤ng cho b·∫°n b√® ƒë·ªÉ tham gia:</p>
                <div class="room-id-container">
                    <p id="room-id-display">Room ID: <span id="room-id-text"></span></p>
                    <button id="copyRoomIdBtn" class="copy-btn">üìã COPY</button>
                </div>
                <p id="player-count">Ng∆∞·ªùi ch∆°i: <span id="player-count-text">1/2</span></p>
                <div id="player-list">
                    <div class="player-item">P1: ƒêang ch·ªù...</div>
                    <div class="player-item">P2: Ch∆∞a tham gia</div>
                </div>
                <p class="waiting-msg">ƒêang ch·ªù ng∆∞·ªùi ch∆°i th·ª© hai...</p>
                <button id="startGameBtn" class="primary-btn" style="display: none;">B·∫ÆT ƒê·∫¶U TR·∫¨N ƒê·∫§U</button>
                <button id="leaveRoomBtn" class="danger-btn">R·ªúI PH√íNG</button>
            </div>
        </div>
    </div>

    <!-- Settings Menu -->
    <div id="settings-layer" style="display: none;">
        <div class="settings-box">
            <h1>C√ÄI ƒê·∫∂T PH√çM</h1>
            <div class="settings-content">
                <div class="control-group">
                    <label>Di chuy·ªÉn l√™n: <input type="text" id="control-up" maxlength="1" value="w"></label>
                    <label>Di chuy·ªÉn xu·ªëng: <input type="text" id="control-down" maxlength="1" value="s"></label>
                    <label>Di chuy·ªÉn tr√°i: <input type="text" id="control-left" maxlength="1" value="a"></label>
                    <label>Di chuy·ªÉn ph·∫£i: <input type="text" id="control-right" maxlength="1" value="d"></label>
                    <label>B·∫Øn: <input type="text" id="control-shoot" maxlength="1" value=" "></label>
                </div>
            </div>
            <div class="settings-btn-group">
                <button id="saveSettingsBtn">L∆ØU</button>
                <button id="backToLobbyBtn">QUAY L·∫†I</button>
            </div>
        </div>
    </div>

    <!-- M√†n h√¨nh game over -->
    <div id="game-over-layer" style="display: none;">
        <div class="game-over-box">
            <h2 id="winner-text">PLAYER 1 CHI·∫æN TH·∫ÆNG!</h2>
            <div class="btn-group">
                <button id="homeBtn">M√ÄN H√åNH CH√çNH</button>
            </div>
        </div>
    </div>

    <script src="js/Utils.js"></script>
    <script src="js/AudioManager.js"></script>
    <script src="js/Bullet.js"></script>
    <script src="js/Tank.js"></script>
    <script src="js/Items.js"></script>
    <script src="js/Particle.js"></script>
    <script src="js/Map.js"></script>
    <script src="js/ImageLoader.js"></script>
    <script src="js/Renderer.js"></script>
    <script src="js/Game.js"></script>
    <script src="js/UIManager.js"></script>
    <script src="js/main.js"></script>

</body>
</html>